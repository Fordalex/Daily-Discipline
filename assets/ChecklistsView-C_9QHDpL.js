import{d as f,br as _,bv as C,r as i,b as g,u as v,_ as b,c as p,a as V,v as o,bk as c,aD as w,F as k,bi as h,o as d,bu as y,bj as B,bw as $,aG as x,aM as S,aE as T,aX as F}from"./index-Dq6GGRGr.js";const j=f({name:"ChecklistsView",components:{PageHeader:_,ChecklistForm:C},setup(){const e=i([]),r=i(null),l=i(!0),u=async()=>{const n=v(),s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.accessToken}`}});if(s.ok){l.value=!1;const t=await s.json();e.value=t,console.log(e.value)}else{l.value=!1;const t=await s.json();r.value=t.error,r.value==="Access token has expired or is invalid."&&(n.$reset(),n.clearState(),localStorage.clear(),sessionStorage.clear())}};return g(()=>{u()}),{checklists:e}}}),L={class:"page-header"};function N(e,r,l,u,n,m){const s=h("PageHeader"),t=h("ChecklistForm");return d(),p(k,null,[V("div",L,[o(s,{title:"Checklists"})]),o(w,null,{default:c(()=>[(d(!0),p(k,null,y(e.checklists,a=>(d(),B(T,{key:a.id,to:`/checklists/${a.id}`},{default:c(()=>[o($,null,{default:c(()=>[x(S(a.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),o(t,null,{trigger:c(({openDialog:a})=>[o(F,{density:"comfortable",variant:"tonal",text:"New Checklist",class:"mr-2",onClick:a},null,8,["onClick"])]),_:1})],64)}const H=b(j,[["render",N]]);export{H as default};
